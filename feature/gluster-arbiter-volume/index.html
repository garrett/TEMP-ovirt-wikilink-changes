<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en-us"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8" lang="en-us"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if IE 9]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if lt IE 10]> <html class="no-js lt-ie10" lang="en-us"> <![endif]-->
<!--[if !IE]> > <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<title>
Gluster Arbiter Volume &mdash;
oVirt
</title>
<meta charset='utf-8'>
<meta content='' name='description'>
<meta content='' name='author'>
<meta content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width' name='viewport'>

<link href='/images/favicon.ico' rel='shortcut icon'>
<link href='/images/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'>
<link href='/images/apple-touch-icon-57x57-precomposed.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/images/apple-touch-icon-72x72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/images/apple-touch-icon-114x114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
<link href="/stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
</head>
<body class=' source-md'>
<header class='masthead hidden-print' id='branding' role='banner'>
<section class='hgroup'>
<h1>
<a href="/"><img id="logo" class="logo is-svg" alt="oVirt" src="/images/logo.svg" />
</a></h1>
</section>
<div id='access'>
<nav role='navigation'>
<ul class='nav nav-pills'>
<li class='nav-link-home' role='menuitem'>
<a href='/'>Home</a>
</li>

<li class='nav-link-blog' role='menuitem'>
<a href='/blog/'>Blog</a>
</li>

<li class='nav-link-download' role='menuitem'>
<a href='/download/'>Download</a>
</li>

<li class='nav-link-documentation' role='menuitem'>
<a href='/documentation/'>Documentation</a>
</li>

<li class='nav-link-develop' role='menuitem'>
<a href='/develop/'>Develop</a>
</li>

<li class='nav-link-community' role='menuitem'>
<a href='/community/'>Community</a>
</li>

<li class='nav-link-search' role='menuitem'>
<a href='/search/'>Search</a>
</li>

</ul>
</nav>

</div>
</header>

<section class='page-wrap' id='page-wrap'>
<section class='page' id='page'>
<ul class='breadcrumb'>
<li><a href="/feature/">Feature</a></li>
<li class='active'>Gluster Arbiter Volume</li>
</ul>

<section class='container content' id='content'>
<div class='alert alert-warning'>
<div class='pull-right'>
<a>Hover for more info</a>
</div>
<div class='frontmatter-metadata'>
<table class='metadata'>
<caption>Frontmatter Metadata</caption>
<tr>
<th>title</th>
<td>Gluster Arbiter Volume</td>
</tr>
<tr>
<th>category</th>
<td>feature</td>
</tr>
<tr>
<th>authors</th>
<td>rnahcimu, sahina</td>
</tr>
<tr>
<th>wiki_category</th>
<td>Feature|ArbiterVolume</td>
</tr>
<tr>
<th>wiki_title</th>
<td>Features/Gluster Arbiter Volume</td>
</tr>
<tr>
<th>wiki_revision_count</th>
<td>13</td>
</tr>
<tr>
<th>wiki_last_updated</th>
<td>2016-01-25</td>
</tr>
<tr>
<th>feature_name</th>
<td>Gluster Arbiter Volume</td>
</tr>
<tr>
<th>feature_modules</th>
<td>all</td>
</tr>
<tr>
<th>feature_status</th>
<td>Inception</td>
</tr>
</table>
</div>
Original Wiki page:
<a href='http://old.ovirt.org/Features/Gluster_Arbiter_Volume' target='_blank'>
Features/Gluster Arbiter Volume
</a>
</div>

<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser.
<a href="http://browsehappy.com/">Upgrade your browser today</a> or
<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
<h1 id="gluster-arbiter-volume">Gluster Arbiter Volume</h1>

<h1 id="summary">Summary</h1>

<p>Arbiter volumes are replica 3 volumes where the 3rd brick of the replica is automatically configured as an arbiter node. What this means is that the 3rd brick will store only the file name and metadata, but does not contain any data. This configuration is helpful in avoiding split-brains while providing the same level of consistency as a normal replica 3 volume. This features allows Gluster Storage Administrator to create and manager Arbiter Volumes from oVirt.</p>

<p>To read more about Gluster arbiter volume feature, see <a href="https://gluster.readthedocs.org/en/release-3.7.0/Features/afr-arbiter-volumes/">https://gluster.readthedocs.org/en/release-3.7.0/Features/afr-arbiter-volumes/</a></p>

<h1 id="owner">Owner</h1>

<ul>
  <li>Name: <span class='broken-link link-mediawiki' data-href='User:Rnahcimu' title='Special MediaWiki link: original pointed to: User:Rnahcimu'> Ramesh Nachimuthu</span></li>
  <li>Email: <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#114;&#110;&#097;&#099;&#104;&#105;&#109;&#117;&#064;&#114;&#101;&#100;&#104;&#097;&#116;&#046;&#099;&#111;&#109;">&#114;&#110;&#097;&#099;&#104;&#105;&#109;&#117;&#064;&#114;&#101;&#100;&#104;&#097;&#116;&#046;&#099;&#111;&#109;</a></li>
</ul>

<h1 id="detailed-description">Detailed Description</h1>

<p>Arbiter volume is a replica 3 volumes with 3rd brick being an arbiter brick. Arbiter brick will store only metadata so it will not require the same storage capacity as other bricks. In a way, it helps to get the benefits of Replica 3 (specially avoiding split-brain) volume with one arbiter brick. After introduction of this feature, user will be able to do following things from oVirt.</p>

<ul>
  <li>Create Gluster Arbiter Volumes</li>
  <li>Sync and Manage the Arbiter Volumes created in Gluster CLI</li>
</ul>

<h1 id="design">Design</h1>

<h3 id="db-changes">DB Changes</h3>

<ul>
  <li>Add 'arbiter_count' column to gluster_volumes table. Arbiter count will be 1 in case of Arbiter volume and it will be 0 in all other cases.</li>
  <li>Add 'is_arbiter' column to gluster_volume_bricks table. This will be true for arbiter bricks. Every third brick in the arbiter volume will be arbiter brick. But this can change any time.</li>
</ul>

<h3 id="user-experience-and-control-flows">User Experience and control flows</h3>

<h4 id="change-in-create-volume-flow">Change in Create Volume Flow</h4>

<p>Arbiter Volume check box will be added to the Create Volume Popup and it will be shown when user creates a Replica Volume. Same check box will be added to Add Brick's pop up and it will be shown only in Create Volume flow with Replica Volume. Arbiter volume should be replica 3 volume and respective validation is added to Add Bricks popup.</p>

<p><img alt="" title="New-arbiter-volume.png" src="/images/New-arbiter-volume.png" /></p>

<p><img alt="" title="Add-brick-for-new-arbiter-volume.png" src="/images/Add-brick-for-new-arbiter-volume.png" /></p>

<h4 id="change-in-volume-general-sub-tab">Change in Volume General Sub tab</h4>

<p>Volume Type field in the General sub tab will be changed to Replicate (Arbiter) in case of Arbiter volume.</p>

<h4 id="change-in-remove-brick-flow">Change in Remove Brick Flow</h4>

<p>Removing arbiter brick will be disabled.</p>

<h1 id="documentation--external-references">Documentation / External references</h1>

<p>Gluster Arbiter Volume feature - <a href="https://gluster.readthedocs.org/en/release-3.7.0/Features/afr-arbiter-volumes/">https://gluster.readthedocs.org/en/release-3.7.0/Features/afr-arbiter-volumes/</a></p>

<p><a href="/develop/release-management/features/">ArbiterVolume</a> <category:gluster> [GlusterArbiterVolume](Category:oVirt 4.0 Proposed Feature)</category:gluster></p>

</section>
</section>
</section>
<footer class='text-center' id='footer'>
<hr class='visible-print'>
<ul class='footer-nav-list'>
<li><a target="_blank" href="/privacy/">Privacy policy</a></li>
<li><a target="_blank" href="/about/">About</a></li>
<li><a target="_blank" href="/disclaimers/">Disclaimers</a></li>
</ul>

&copy; 2013&ndash;2016 oVirt
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/edit/master/source/feature/gluster-arbiter-volume.html.md"><i class="icon fa fa-pencil"></i>Edit this page on GitHub</a>
</div>
<div class='last-modified'>
Page last modified
Mon 25 Jan 2016 06:53 UTC
</div>
</footer>


<script src="/javascripts/application.js" type="text/javascript"></script>

<!-- eloqua -->
<script src='//www.redhat.com/j/elqNow/elqCfg.js' type='text/javascript'></script>
<script src='//www.redhat.com/j/elqNow/elqImg.js' type='text/javascript'></script>

</body>
</html>
